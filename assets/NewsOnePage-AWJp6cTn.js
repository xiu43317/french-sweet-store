import{r as h,d as x,y as $,i as f,o as r,c as u,a as s,f as g,g as p,k as d,t as _,z as w,F as y}from"./index-Hfj1Gs7U.js";import{a as i,n as v}from"./axios-efjzW8l8.js";const N={class:"container mt-5"},A={class:"row"},L={class:"col-lg-8 mx-auto"},P={class:"row fs-5"},I={key:0,class:"col-md-6 mb-3 mb-md-0"},B=s("i",{class:"bi bi-chevron-double-left"},null,-1),D={key:1,class:"col-md-6 mb-3 mb-md-0"},M=s("span",null,null,-1),T=[M],V={key:2,class:"col-md-6 text-end"},C=s("i",{class:"bi bi-chevron-double-right"},null,-1),F={key:3,class:"col-md-6 text-end"},H={__name:"ArticlePages",props:["currentNum"],setup(b){const c=b;let e=parseInt(c.currentNum);const n=h(""),l=h(""),m=()=>{e=parseInt(c.currentNum),e%10===0?(i.getArticles(e/10+1).then(t=>{t.data.articles?l.value=t.data.articles.filter(a=>a.num===e+1)[0]:l.value=""}).catch(t=>{v(t.response.data.message)}),i.getArticles(e/10).then(t=>{const a=t.data.articles.filter(o=>o.num===e-1)[0];n.value=a}).catch(t=>{v(t.response.data.message)})):e===1?(n.value="",i.getArticles(1).then(t=>{l.value=t.data.articles.filter(a=>a.num===e+1)[0]}).catch(t=>{v(t.response.data.message)})):e%10===1&&e!==1?(i.getArticles(e/10).then(t=>{const a=t.data.articles.filter(o=>o.num===e-1);n.value=a[0]}),i.getArticles(e/10+1).then(t=>{t.data.articles?n.value=t.data.articles.filter(a=>a.num===e+1)[0]:l.value=""})):i.getArticles(e/10+1).then(t=>{n.value=t.data.articles.filter(a=>a.num===e-1)[0],t.data.articles.filter(a=>a.num===e+1)[0]?l.value=t.data.articles.filter(a=>a.num===e+1)[0]:l.value=""}).catch(t=>{v(t.response.data.message)})};return x(()=>{m()}),$(()=>c.currentNum,()=>{m()}),(t,a)=>{const o=f("router-link");return r(),u("div",N,[s("div",A,[s("div",L,[s("div",P,[l.value?(r(),u("strong",I,[g(o,{class:"text-decoration-none link-dark",to:`/onenews/${l.value.id}/num/${l.value.num}`},{default:p(()=>[B,d(" 較舊一篇："+_(l.value.title),1)]),_:1},8,["to"])])):(r(),u("strong",D,T)),n.value?(r(),u("strong",V,[g(o,{class:"text-decoration-none link-dark",to:`/onenews/${n.value.id}/num/${n.value.num}`},{default:p(()=>[d(" 較新一篇："+_(n.value.title)+" ",1),C]),_:1},8,["to"])])):(r(),u("strong",F))])])])])}}},S={class:"container"},j={"aria-label":"breadcrumb",class:"mt-3"},q={class:"breadcrumb"},z={class:"breadcrumb-item"},E={class:"breadcrumb-item active text-success fs-5 fw-bold","aria-current":"page"},O={class:"row justify-content-center"},R={class:"col-lg-8"},U={class:"text-muted"},G=s("i",{class:"bi bi-calendar"},null,-1),J={class:"text-muted"},K=s("i",{class:"bi bi-pencil-square"},null,-1),Q=["src","alt"],W=s("hr",null,null,-1),X=["innerHTML"],ee={__name:"NewsOnePage",setup(b){const c=w(),e=h({}),n=h(!1),l=t=>{n.value=!0,i.getArticle(t).then(a=>{e.value={...a.data.article},e.value.create_at=new Date(e.value.create_at*1e3).toLocaleDateString(),m.value=c.params.num,n.value=!1}).catch(a=>{v(a.response.data.message),n.value=!1})},m=h(c.params.num);return x(()=>{l(c.params.id)}),$(()=>c.params.id,async()=>{await l(c.params.id)}),(t,a)=>{const o=f("myLoading"),k=f("router-link");return r(),u(y,null,[g(o,{active:n.value},null,8,["active"]),s("div",S,[s("nav",j,[s("ol",q,[s("li",z,[g(k,{to:"/news",class:"fs-5 link-secondary text-decoration-none"},{default:p(()=>[d("消息列表")]),_:1})]),s("li",E,_(e.value.title),1)])]),s("div",O,[s("article",R,[s("h2",null,_(e.value.title),1),s("p",null,[s("strong",U,[G,d(" "+_(e.value.create_at),1)]),d(" - "),s("strong",J,[K,d(" 作者："+_(e.value.author),1)])]),s("img",{src:e.value.imageUrl,alt:e.value.title,class:"img-fluid mb-3"},null,8,Q),W,s("div",{innerHTML:e.value.content,class:"fs-5"},null,8,X)])])]),g(H,{currentNum:m.value},null,8,["currentNum"])],64)}}};export{ee as default};
