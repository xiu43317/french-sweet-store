import{_ as h,r as m,u as g,d as b,i as p,o as v,c as f,a,f as o,g as n,q as x,m as $,j as N,F as V,Y as d,k as r}from"./index-moY6mszh.js";const _="https://vue3-course-api.hexschool.io/v2",A={setup(){const l=m(!1),e=g(),i=()=>{const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");d.defaults.headers.common.Authorization=s,d.post(`${_}/api/user/check`).then(()=>{l.value=!0}).catch(u=>{alert(u.response.data.message),e.push("/login")})},c=()=>{d.post(`${_}/logout`).then(s=>{alert(s.data.message),document.cookie="hexToken=;expires=;",e.push("/login")}).catch(s=>{alert(s.response.data.message)})};return b(()=>{i()}),{checkLogin:i,checkSuccess:l,signOut:c,router:e}}},M={class:"navbar navbar-expand-lg navbar-dark bg-dark"},w={class:"container-fluid"},B=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),C={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},T={class:"navbar-nav"},R={class:"navbar-nav ms-auto"};function y(l,e,i,c,s,u){const t=p("router-link"),k=p("RouterView");return v(),f(V,null,[a("nav",M,[a("div",w,[o(t,{to:"/admin/products",class:"navbar-brand"},{default:n(()=>[r("後臺系統")]),_:1}),B,a("div",C,[a("div",T,[o(t,{to:"/admin/products",class:"nav-link"},{default:n(()=>[r("產品列表")]),_:1}),o(t,{to:"/admin/coupons",class:"nav-link"},{default:n(()=>[r("優惠券")]),_:1}),o(t,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[r("訂單")]),_:1}),o(t,{to:"/admin/articles",class:"nav-link"},{default:n(()=>[r("新增文章")]),_:1}),a("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=x(F=>c.signOut(),["prevent"]))},"登出")]),a("div",R,[o(t,{to:"/",class:"nav-link"},{default:n(()=>[r("回前台")]),_:1})])])])]),c.checkSuccess?(v(),$(k,{key:0})):N("",!0)],64)}const S=h(A,[["render",y]]);export{S as default};
