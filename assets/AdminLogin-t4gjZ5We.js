import{_ as h,r as c,u as g,i as v,o as w,c as x,a as o,E as b,w as p,v as m,f as I,g as k,Z as V,k as y,p as P,b as S}from"./index-7sQXWFie.js";const B={setup(){const a="https://vue3-course-api.hexschool.io/v2",t=c(""),r=c(""),s=g();return{emailInput:t,pwInput:r,login:()=>{const d=t.value,l=r.value,e={username:d,password:l};V.post(`${a}/admin/signin`,e).then(i=>{const{token:_,expired:f}=i.data;document.cookie=`hexToken=${_};expires=${new Date(f)};`,alert(i.data.message),s.push("/admin")}).catch(i=>{alert(i.response.data.message)})}}}},n=a=>(P("data-v-0daa74c2"),a=a(),S(),a),E={class:"container"},N={class:"row align-items-center vh-100"},T={class:"text-center"},q=n(()=>o("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1)),C={class:"form-floating mb-3"},D=n(()=>o("label",{for:"floatingInput"},"Email address",-1)),M={class:"form-floating"},U=n(()=>o("label",{for:"floatingPassword"},"Password",-1)),A=n(()=>o("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1)),L=n(()=>o("p",{class:"mt-5 mb-3 text-muted"},"© 2024~∞ - 羅傑的店",-1));function R(a,t,r,s,u,d){const l=v("router-link");return w(),x("div",E,[o("div",N,[o("div",T,[q,o("div",null,[o("form",{class:"form-signin",onSubmit:t[2]||(t[2]=b((...e)=>s.login&&s.login(...e),["prevent"]))},[o("div",C,[p(o("input",{type:"email",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.emailInput=e),id:"floatingInput",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[m,s.emailInput]]),D]),o("div",M,[p(o("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.pwInput=e),id:"floatingPassword",placeholder:"Password",required:""},null,512),[[m,s.pwInput]]),U]),A],32)]),L,I(l,{to:"/"},{default:k(()=>[y("返回首頁")]),_:1})])])])}const $=h(B,[["render",R],["__scopeId","data-v-0daa74c2"]]);export{$ as default};
