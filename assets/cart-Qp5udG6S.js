import{L as y,r as n,B as g,d as m}from"./index-invxNhHQ.js";import{a as t,n as c}from"./axios-N3QjHTje.js";const S=y("cart",()=>{const r=n({carts:[]}),s=n(!1),e=n(!1),u=g(()=>r.value),o=async()=>(e.value=!0,await t.getCart().then(a=>{c(!0,"已更新購物車"),r.value=a.data.data,e.value=!1}).catch(a=>{c(!1,a.response.data.message),e.value=!1})),l=async a=>await t.createCart(a),d=async(a,v)=>await t.updateCart(a,v),C=async a=>await t.deleteCart(a),i=async()=>await t.deleteCartAll(),f=async a=>await t.useCoupon(a),p=a=>{a?s.value=!0:s.value=!1};return m(()=>{o()}),{cart:r,cartChanged:u,getCart:o,createCart:l,updateCart:d,deleteCart:C,deleteAllCart:i,useCoupon:f,addBtnState:s,changeAddStatus:p,isCartLoading:e}});export{S as u};
