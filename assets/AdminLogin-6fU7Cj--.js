import{_ as h,r as c,u as g,i as v,o as w,c as b,a as o,q as x,w as p,v as m,f as I,g as k,Y as V,k as y,p as P,b as S}from"./index-moY6mszh.js";const q={setup(){const n="https://vue3-course-api.hexschool.io/v2",t=c(""),r=c(""),s=g();return{emailInput:t,pwInput:r,login:()=>{const d=t.value,l=r.value,e={username:d,password:l};V.post(`${n}/admin/signin`,e).then(i=>{const{token:_,expired:f}=i.data;document.cookie=`hexToken=${_};expires=${new Date(f)};`,alert(i.data.message),s.push("/admin")}).catch(i=>{alert(i.response.data.message)})}}}},a=n=>(P("data-v-1b97b54d"),n=n(),S(),n),B={class:"container"},N={class:"row align-items-center vh-100"},T={class:"text-center"},C=a(()=>o("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1)),D={class:"form-floating mb-3"},E=a(()=>o("label",{for:"floatingInput"},"Email address",-1)),M={class:"form-floating"},U=a(()=>o("label",{for:"floatingPassword"},"Password",-1)),A=a(()=>o("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1)),L=a(()=>o("p",{class:"mt-5 mb-3 text-muted"},"© 2024~∞ - 羅傑的店",-1));function R(n,t,r,s,u,d){const l=v("router-link");return w(),b("div",B,[o("div",N,[o("div",T,[C,o("div",null,[o("form",{class:"form-signin",onSubmit:t[2]||(t[2]=x((...e)=>s.login&&s.login(...e),["prevent"]))},[o("div",D,[p(o("input",{type:"email",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>s.emailInput=e),id:"floatingInput",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[m,s.emailInput]]),E]),o("div",M,[p(o("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>s.pwInput=e),id:"floatingPassword",placeholder:"Password",required:""},null,512),[[m,s.pwInput]]),U]),A],32)]),L,I(l,{to:"/"},{default:k(()=>[y("返回首頁")]),_:1})])])])}const $=h(q,[["render",R],["__scopeId","data-v-1b97b54d"]]);export{$ as default};
