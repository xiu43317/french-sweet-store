import{O as b}from"./OrderDetail-7_TTvSxC.js";import{_ as g,z as y,r as d,u as x,i as f,o as l,c as i,f as h,a,w as S,v as w,q as O,j as _,F as k,p as I,b as B}from"./index-moY6mszh.js";import{a as C,n as v}from"./axios-3Z5XKonf.js";import"./CartItem-qdHkljzh.js";import"./math-9XHDQUjD.js";const D={components:{OrderDetail:b},setup(){const r=y(),t=d(!1),n=d(null),e=d(r.query.id||null),u=x(),s=d(!1);return{order:n,orderId:e,getOrder:()=>{s.value=!0,C.getOrder(e.value).then(o=>{o.data.order===null?v(!1,"沒有此訂單喔"):o.data.order.is_paid?(n.value=o.data.order,t.value=!0):u.push(`/payment?id=${e.value}`),s.value=!1}).catch(o=>{v(!1,o.response.data.message),s.value=!1})},hideSearchBar:t,redoSearch:()=>{t.value=!1,n.value=null,e.value=null,window.scrollTo(0,0)},isLoading:s}}},c=r=>(I("data-v-ebd1c0f5"),r=r(),B(),r),L={key:0,class:"container text-center mh-370"},V=c(()=>a("h3",{class:"fs-2 my-5"},"查詢訂單",-1)),N={class:"input-group input-group-lg mt-5 mx-auto mw-500"},q=c(()=>a("span",{class:"input-group-text",id:"basic-addon1"},[a("i",{class:"bi bi-search"})],-1)),F=c(()=>a("i",{class:"bi bi-arrow-right"},null,-1)),M=[F],R={class:"contaner text-center"};function T(r,t,n,e,u,s){const p=f("myLoading"),m=f("OrderDetail");return l(),i(k,null,[h(p,{active:e.isLoading},null,8,["active"]),e.hideSearchBar?_("",!0):(l(),i("div",L,[V,a("div",N,[q,S(a("input",{type:"text",class:"form-control bg-white bg-opacity-50 text-dark",placeholder:"請輸入訂單編號","onUpdate:modelValue":t[0]||(t[0]=o=>e.orderId=o)},null,512),[[w,e.orderId]]),a("button",{class:"btn btn-outline-secondary",type:"submit",onClick:t[1]||(t[1]=O(o=>e.getOrder(),["prevent"]))},M)])])),h(m,{order:e.order},null,8,["order"]),a("div",R,[e.hideSearchBar?(l(),i("button",{key:0,type:"button",onClick:t[2]||(t[2]=o=>e.redoSearch()),class:"btn btn-lg btn-outline-success"},"重新查詢")):_("",!0)])],64)}const A=g(D,[["render",T],["__scopeId","data-v-ebd1c0f5"]]);export{A as default};
